# =============================================================================
# Personal Super Agent - Environment Variables
# =============================================================================
# Copy this file to .env.local (for Next.js) and .env (for Python)
# NEVER commit .env files to version control
# =============================================================================

# -----------------------------------------------------------------------------
# OpenAI API (for Whisper transcription and GPT-4o-Mini routing)
# -----------------------------------------------------------------------------
OPENAI_API_KEY=sk-your-openai-api-key-here

# -----------------------------------------------------------------------------
# Anthropic API (for Claude 3.5 Sonnet - main agent logic)
# -----------------------------------------------------------------------------
ANTHROPIC_API_KEY=sk-ant-your-anthropic-api-key-here

# -----------------------------------------------------------------------------
# Twilio (Voice and SMS)
# -----------------------------------------------------------------------------
TWILIO_ACCOUNT_SID=ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
TWILIO_AUTH_TOKEN=your-twilio-auth-token
TWILIO_PHONE_NUMBER=+1234567890
TWILIO_WEBHOOK_URL=https://your-domain.vercel.app/api/chat

# Admin phone number (only this number can text the agent)
# Format: +1234567890
ADMIN_PHONE=+1234567890

# Default user ID for SMS interactions
DEFAULT_USER_ID=00000000-0000-0000-0000-000000000000

# -----------------------------------------------------------------------------
# Supabase (Database + pgvector)
# -----------------------------------------------------------------------------
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=your-supabase-anon-key
SUPABASE_SERVICE_ROLE_KEY=your-supabase-service-role-key

# Database connection (for direct Postgres access if needed)
DATABASE_URL=postgresql://postgres:password@db.your-project.supabase.co:5432/postgres

# -----------------------------------------------------------------------------
# Vercel Blob Storage (for audio file storage)
# -----------------------------------------------------------------------------
BLOB_READ_WRITE_TOKEN=vercel_blob_your-token-here

# -----------------------------------------------------------------------------
# Security & Cron Jobs
# -----------------------------------------------------------------------------
# Used to authenticate cron jobs and admin endpoints
CRON_SECRET=your-secure-random-string-here
ADMIN_SECRET_HASH=your-hashed-admin-secret-here

# API key for authenticating requests to the Python agent API
# This MUST be set - the server will reject all requests without it
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
AGENT_API_KEY=your-secure-agent-api-key-here

# For hash: python -c "import hashlib; print(hashlib.sha256(b'your-secret').hexdigest())"

# -----------------------------------------------------------------------------
# Model Context Protocol (MCP) Servers
# -----------------------------------------------------------------------------
# Space-separated list of MCP server launcher scripts (Stdio transport)
# Each script launches an MCP server via npx
MCP_SERVERS=/app/deploy/start-mcp-server.sh /app/deploy/start-github-mcp.sh

# -----------------------------------------------------------------------------
# GitHub Integration (for GitHub MCP server)
# -----------------------------------------------------------------------------
# Personal Access Token with repo scope for GitHub MCP server
# Create at: https://github.com/settings/tokens
# Required scopes: repo (full control of private repositories)
GITHUB_TOKEN=ghp_your-github-personal-access-token

# Repository for Project Dream Team backlog management (optional)
# Format: owner/repo
GITHUB_REPO=strugcity/sabine-super-agent

# -----------------------------------------------------------------------------
# E2B Sandbox (Secure Code Execution)
# -----------------------------------------------------------------------------
# API key for E2B sandbox service
# Get a key at: https://e2b.dev
E2B_API_KEY=e2b_your-api-key

# -----------------------------------------------------------------------------
# Google Workspace Integration (via MCP)
# -----------------------------------------------------------------------------
# OAuth credentials for workspace-mcp server (from Google Cloud Console)
# Create credentials at: https://console.cloud.google.com/apis/credentials
GOOGLE_OAUTH_CLIENT_ID=your-client-id.apps.googleusercontent.com
GOOGLE_OAUTH_CLIENT_SECRET=GOCSPX-your-client-secret

# User email for Google Workspace operations (the agent's email)
USER_GOOGLE_EMAIL=agent@yourdomain.com

# OAuth callback URL (must match Google Cloud Console redirect URIs)
GOOGLE_OAUTH_REDIRECT_URI=http://localhost:8000/oauth2callback

# Refresh token for headless/container deployment (Railway, Docker, etc.)
# Required for production - obtained from local OAuth flow
# After authenticating locally, find this in ~/.google_workspace_mcp/credentials/<email>.json
GOOGLE_REFRESH_TOKEN=1//your-refresh-token-here

# Legacy web app credentials (for Next.js webhooks if needed)
GOOGLE_CLIENT_ID=your-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=GOCSPX-your-client-secret

# Authorized email addresses (comma-separated)
# Users who can email the assistant and receive responses
GMAIL_AUTHORIZED_EMAILS=you@gmail.com,agent@yourdomain.com

# Your personal email address (admin/owner)
ADMIN_EMAIL=you@gmail.com

# Assistant's email address (the account used to send/receive emails)
ASSISTANT_EMAIL=agent@yourdomain.com

# -----------------------------------------------------------------------------
# Google Cloud Pub/Sub Configuration (for Gmail webhook)
# -----------------------------------------------------------------------------
GOOGLE_CLOUD_PROJECT_ID=your-gcp-project-id
GMAIL_PUBSUB_TOPIC=projects/your-gcp-project-id/topics/gmail-notification
GMAIL_WEBHOOK_URL=https://your-domain.com/api/gmail/webhook

# -----------------------------------------------------------------------------
# Application Settings
# -----------------------------------------------------------------------------
NODE_ENV=development
NEXT_PUBLIC_APP_URL=http://localhost:3000

# Python FastAPI server URL (for Next.js â†’ Python communication)
# Development: http://127.0.0.1:8001 (port 8001 since workspace-mcp uses 8000)
# Production: https://your-python-api.railway.app (or other hosting)
PYTHON_API_URL=http://127.0.0.1:8001

# Python API server host and port (for running the FastAPI server)
# Running on 8001 since workspace-mcp MCP server uses 8000
API_HOST=0.0.0.0
API_PORT=8001

# Vercel deployment (auto-populated by Vercel)
# VERCEL_URL=your-project.vercel.app
